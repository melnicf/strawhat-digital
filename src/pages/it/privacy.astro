---
import Layout from "../../layouts/Layout.astro";
import Navbar from "../../components/Navbar.astro";
import Footer from "../../components/Footer.astro";
import { getTranslations } from "../../utils/i18n";
import { basePath } from "../../utils/i18n";
import type { Locale } from "../../utils/i18n";

const locale: Locale = "it";
const t = getTranslations(locale);
const base = basePath(locale);
const lastUpdated = "January 2025";
---

<Layout
  locale={locale}
  title={t("legal.privacyTitle")}
  description={t("legal.privacyMeta")}
>
  <Navbar locale={locale} pathname={Astro.url.pathname} />

  <main class="pt-24 pb-16 md:pt-32 md:pb-24">
    <div class="mx-auto max-w-3xl px-4 sm:px-6 lg:px-8">
      <div class="mb-12 space-y-4">
        <a
          href={base || "/"}
          class="group text-strawhat-text-light hover:text-strawhat-yellow inline-flex items-center gap-2 text-sm transition-colors"
        >
          <svg
            class="size-4 transition-transform duration-300 group-hover:-translate-x-1"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M19 12H5M12 19l-7-7 7-7"></path>
          </svg>
          {t("legal.backToHome")}
        </a>
        <h1
          class="text-strawhat-text text-3xl font-light tracking-tight md:text-4xl"
        >
          {t("legal.privacyTitle")}
        </h1>
        <p class="text-strawhat-text-light text-sm">
          {t("legal.lastUpdated")}
          {lastUpdated}
        </p>
      </div>
      <div class="legal-content space-y-8">
        <section>
          <h2>{t("privacy.overview")}</h2><p>{t("privacy.overviewText")}</p>
        </section>
        <section>
          <h2>{t("privacy.infoWeCollect")}</h2><p>
            {t("privacy.infoWeCollectIntro")}
          </p><ul>
            <li>
              <strong>{t("privacy.contactInfo")}</strong>
              {t("privacy.contactInfoText")}
            </li><li>
              <strong>{t("privacy.projectInfo")}</strong>
              {t("privacy.projectInfoText")}
            </li><li>
              <strong>{t("privacy.usageData")}</strong>
              {t("privacy.usageDataText")}
            </li>
          </ul>
        </section>
        <section>
          <h2>{t("privacy.howWeUse")}</h2><p>{t("privacy.howWeUseIntro")}</p><ul
          >
            <li>{t("privacy.howWeUse1")}</li><li>
              {t("privacy.howWeUse2")}
            </li><li>{t("privacy.howWeUse3")}</li><li>
              {t("privacy.howWeUse4")}
            </li>
          </ul>
        </section>
        <section>
          <h2>{t("privacy.sharing")}</h2><p>{t("privacy.sharingIntro")}</p><ul>
            <li>{t("privacy.sharing1")}</li><li>{t("privacy.sharing2")}</li><li>
              {t("privacy.sharing3")}
            </li>
          </ul>
        </section>
        <section>
          <h2>{t("privacy.security")}</h2><p>{t("privacy.securityText")}</p>
        </section>
        <section>
          <h2>{t("privacy.cookies")}</h2><p>{t("privacy.cookiesText")}</p>
        </section>
        <section>
          <h2>{t("privacy.yourRights")}</h2><p>
            {t("privacy.yourRightsIntro")}
          </p><ul>
            <li>{t("privacy.yourRights1")}</li><li>
              {t("privacy.yourRights2")}
            </li><li>{t("privacy.yourRights3")}</li><li>
              {t("privacy.yourRights4")}
            </li>
          </ul>
        </section>
        <section>
          <h2>{t("privacy.contactUs")}</h2><p>{t("privacy.contactUsText")}</p><p
          >
            <a href="mailto:privacy@strawhat.digital"
              >privacy@strawhat.digital</a
            >
          </p>
        </section>
        <section>
          <h2>{t("privacy.changesToPolicy")}</h2><p>
            {t("privacy.changesToPolicyText")}
          </p>
        </section>
      </div>
    </div>
  </main>
  <Footer locale={locale} />
</Layout>

<style is:global>
  .legal-content h2 {
    color: var(--strawhat-text);
    font-size: 1.25rem;
    font-weight: 400;
    letter-spacing: -0.025em;
    margin-bottom: 0.75rem;
  }
  .legal-content p {
    color: var(--strawhat-text-light);
    font-size: 0.9375rem;
    font-weight: 300;
    line-height: 1.75;
    margin-bottom: 1rem;
  }
  .legal-content ul {
    color: var(--strawhat-text-light);
    font-weight: 300;
    list-style: none;
    padding-left: 0;
    margin-bottom: 1rem;
  }
  .legal-content li {
    position: relative;
    padding-left: 1.25rem;
    line-height: 1.75;
    font-size: 0.9375rem;
    margin-bottom: 0.5rem;
  }
  .legal-content li::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0.6em;
    width: 4px;
    height: 4px;
    border-radius: 50%;
    background: var(--strawhat-text-light);
    opacity: 0.4;
  }
  .legal-content strong {
    color: var(--strawhat-text);
    font-weight: 500;
  }
  .legal-content a {
    color: var(--strawhat-yellow);
    text-decoration: none;
    border-bottom: 1px solid currentColor;
    transition: opacity 0.2s;
  }
  .legal-content a:hover {
    opacity: 0.7;
  }
</style>
